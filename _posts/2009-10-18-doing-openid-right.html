--- 
layout: post
title: Doing OpenID right
mt_id: 63
---
So, everyone* is now accepting OpenID for authentication.&nbsp;<div><br /></div><div>But with doing so, many sites are actually hurting OpenID and themselves.&nbsp;</div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">Here's why: they've integrated it badly.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">There are obviously many parts of the OpenID integration people can fuck up, but here are the three common cases:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><b>#1 Your login page shoots a large text box right into your user's face.</b></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">Also it goes on to explain a long way what OpenID is, etc, yadda.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">This is plainly wrong for two good reasons:&nbsp;</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">a) your site breaks user expectations of a login page (where's the username + password boxes?)</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">Live sample for doing it wrong:&nbsp;<a href="http://meta.stackoverflow.com/users/login">stackoverflow</a>. They also get bonus points for listing Google as the first provider but not having read Google's freely available research about <a href="http://code.google.com/apis/accounts/docs/OpenID.html#loginUI">UI design for OpenID</a>.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">(You should understand that most users out there have an account with one of the large providers and don't host their own OpenID stuff. <i>Really</i>.)</span></div><div><br /></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">b) no <i>ordinary user</i> cares for OpenID.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">This is just a simple fact of life. Users want to get things done, not think about some cool whizzbang technology your site's using to make your life simpler. They do care a lot about you making their lives easier, though - so let's move on to case #2 and see what that means.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><b>#2 Your site uses OpenID only for authentication.</b></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">OpenID can do so much more for you and your users, please actually <i>use</i>&nbsp;it.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">Authentication is probably the number one reason for implementing OpenID. Yep, it makes your life easier: you (as a site operator) no longer need to store user credentials and keep them safe and so on. But why stop there?</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">In the same request you make for authenticating your users, you can also request profile data (if it's available), like an email address, a nickname, user's real name, etc. Obviously not every OpenID provider will have this info, but if it does and you use it to pre-fill user profiles on your site, your users will thank you.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">Again, stackoverflow is a nice example of doing this completely wrong.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">Their welcome screen for new users:&nbsp;<form mt:asset-id="7" class="mt-enclosure mt-enclosure-image" style="display: inline;"><a href="/blog/2009/10/18/stackoverflow-openid-signup.png" target="_blank"><img src="/blog/assets_c/2009/10/stackoverflow-openid-signup-thumb-200x88-7.png" width="200" height="88" alt="stackoverflow-openid-signup.png" class="mt-image-none" style="" /></a></form></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">Yep, a scary "are you sure you want to create a new account" page. Instead of asking users how they would like to appear on the site instead of "unknown &lt;providername&gt;". Really: the way to go - for creating new users - is: ask about profile data and provide a (small) link to merge with an existing account.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><b>#3 Require seperate logins across sister sites.</b></span></div><div><br /></div><div>This obviously only applies to you if you have sister sites, but probably you do if you're focusing multiple countries or multiple interest groups.</div><div><br /></div><div>Yep, there are OpenID providers (like Google) out there which will give you per-realm tokens. And this is good (privacy, you know).&nbsp;<span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">But this is not something you want to slam into your user's face. It's your site's problem, so solve it.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">And it's easy to solve: make a central realm, probably your main site (e.g. "amazon.com" if you were Amazon and had amazon.(com|co.uk|de|fr) as sites) for logging in. This way you'll have only one token and be done with it.</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br /></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">* obviously greatly exaggerated, but the time to solve this problems is <i>now</i>.</span></div> 
